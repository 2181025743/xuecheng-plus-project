# âš ï¸ é…ç½®è¯´æ˜ - é‡è¦

## ğŸ” æ•æ„Ÿä¿¡æ¯é…ç½®

ä¸ºäº†å®‰å…¨è€ƒè™‘ï¼Œé¡¹ç›®ä¸­çš„æ•æ„Ÿä¿¡æ¯å·²ä½¿ç”¨å ä½ç¬¦æ›¿æ¢ã€‚**åœ¨å®é™…ä½¿ç”¨å‰ï¼Œè¯·åŠ¡å¿…é…ç½®çœŸå®çš„å€¼**ã€‚

---

## ğŸ“ éœ€è¦é…ç½®çš„æ–‡ä»¶

### 1. é˜¿é‡Œäº‘ OSS é…ç½®

#### æ–‡ä»¶ä½ç½®ï¼š
- `nacos/media-service-dev.yaml`
- `nacos/xuecheng-plus-project/media-service-dev.yaml`
- `nacos/xuecheng-plus-project/message-service-dev.yaml`

#### éœ€è¦ä¿®æ”¹çš„å†…å®¹ï¼š

```yaml
aliyun:
  oss:
    endpoint: oss-cn-beijing.aliyuncs.com
    accessKeyId: YOUR_ACCESS_KEY_ID_HERE      # âš ï¸ æ›¿æ¢ä¸ºçœŸå®çš„ AccessKey ID
    accessKeySecret: YOUR_ACCESS_KEY_SECRET_HERE  # âš ï¸ æ›¿æ¢ä¸ºçœŸå®çš„ AccessKey Secret
    bucketName: YOUR_BUCKET_NAME_HERE         # âš ï¸ æ›¿æ¢ä¸ºçœŸå®çš„ Bucket åç§°
```

#### å¦‚ä½•è·å–é˜¿é‡Œäº‘ OSS é…ç½®ï¼š

1. **ç™»å½•é˜¿é‡Œäº‘æ§åˆ¶å°**ï¼šhttps://www.aliyun.com/
2. **åˆ›å»º AccessKey**ï¼š
   - è¿›å…¥ï¼šæ§åˆ¶å° â†’ ä¸ªäººå¤´åƒ â†’ AccessKey ç®¡ç†
   - åˆ›å»º AccessKeyï¼ˆå»ºè®®ä½¿ç”¨ RAM ç”¨æˆ·çš„ AccessKeyï¼Œæ›´å®‰å…¨ï¼‰
   - è®°å½• `AccessKey ID` å’Œ `AccessKey Secret`
3. **åˆ›å»º OSS Bucket**ï¼š
   - è¿›å…¥ï¼šäº§å“ä¸æœåŠ¡ â†’ å¯¹è±¡å­˜å‚¨ OSS
   - åˆ›å»º Bucket
   - è®°å½• Bucket åç§°å’Œ Endpoint

---

### 2. æ•°æ®åº“é…ç½®ï¼ˆå¯é€‰ï¼‰

å¦‚æœä½ çš„æ•°æ®åº“åœ°å€ã€ç”¨æˆ·åã€å¯†ç ä¸åŒï¼Œéœ€è¦ä¿®æ”¹ï¼š

#### æ–‡ä»¶ä½ç½®ï¼š
- `nacos/media-service-dev.yaml`
- `nacos/xuecheng-plus-project/*.yaml`
- `xxl-job-2.3.1/xxl-job-admin/src/main/resources/application.properties`

#### ç¤ºä¾‹ï¼š

```yaml
spring:
  datasource:
    url: jdbc:mysql://YOUR_MYSQL_HOST:3306/xuecheng?serverTimezone=UTC
    username: YOUR_USERNAME
    password: YOUR_PASSWORD
```

---

### 3. XXL-JOB Admin æ•°æ®åº“é…ç½®

#### æ–‡ä»¶ï¼š`xxl-job-2.3.1/xxl-job-admin/src/main/resources/application.properties`

```properties
spring.datasource.url=jdbc:mysql://YOUR_MYSQL_HOST:3306/xxl_job?...
spring.datasource.username=YOUR_USERNAME
spring.datasource.password=YOUR_PASSWORD
```

---

## ğŸ›¡ï¸ å®‰å…¨å»ºè®®

### 1. ä¸è¦å°†çœŸå®å¯†é’¥æäº¤åˆ°å…¬å¼€ä»“åº“

âœ… **æ¨èåšæ³•**ï¼š
- ä½¿ç”¨ç¯å¢ƒå˜é‡
- ä½¿ç”¨é…ç½®ä¸­å¿ƒï¼ˆNacosï¼‰
- å°†æ•æ„Ÿé…ç½®æ–‡ä»¶åŠ å…¥ `.gitignore`

âŒ **é¿å…**ï¼š
- ç›´æ¥åœ¨ä»£ç ä¸­ç¡¬ç¼–ç å¯†é’¥
- å°†çœŸå®å¯†é’¥æ¨é€åˆ° GitHub

### 2. ä½¿ç”¨ .gitignore æ’é™¤æ•æ„Ÿæ–‡ä»¶

å·²åœ¨ `.gitignore` ä¸­é…ç½®ï¼š

```gitignore
# æ•æ„Ÿé…ç½®æ–‡ä»¶
user.txt
mysql.txt
*.key
*.pem

# æ—¥å¿—æ–‡ä»¶
logs/
*.log
```

### 3. ä½¿ç”¨ç¯å¢ƒå˜é‡ï¼ˆæ¨èï¼‰

åœ¨ç”Ÿäº§ç¯å¢ƒä¸­ï¼Œå»ºè®®ä½¿ç”¨ç¯å¢ƒå˜é‡ï¼š

```yaml
aliyun:
  oss:
    accessKeyId: ${ALIYUN_ACCESS_KEY_ID}
    accessKeySecret: ${ALIYUN_ACCESS_KEY_SECRET}
```

ç„¶ååœ¨å¯åŠ¨æ—¶è®¾ç½®ç¯å¢ƒå˜é‡ï¼š

```bash
export ALIYUN_ACCESS_KEY_ID=your_real_key_id
export ALIYUN_ACCESS_KEY_SECRET=your_real_key_secret

java -jar your-app.jar
```

---

## ğŸ“‹ é…ç½®æ£€æŸ¥æ¸…å•

éƒ¨ç½²å‰è¯·ç¡®è®¤ï¼š

- [ ] å·²é…ç½®çœŸå®çš„é˜¿é‡Œäº‘ OSS AccessKey
- [ ] å·²é…ç½®çœŸå®çš„æ•°æ®åº“è¿æ¥ä¿¡æ¯
- [ ] å·²é…ç½®çœŸå®çš„ Bucket åç§°
- [ ] å·²éªŒè¯é…ç½®çš„æ­£ç¡®æ€§
- [ ] æ•æ„Ÿé…ç½®å·²æ’é™¤åœ¨ç‰ˆæœ¬æ§åˆ¶ä¹‹å¤–

---

## ğŸ”— ç›¸å…³æ–‡æ¡£

- é˜¿é‡Œäº‘ OSS æ–‡æ¡£ï¼šhttps://help.aliyun.com/product/31815.html
- AccessKey ç®¡ç†ï¼šhttps://help.aliyun.com/document_detail/53045.html
- XXL-JOB å®˜æ–¹æ–‡æ¡£ï¼šhttps://www.xuxueli.com/xxl-job/

---

## ğŸ“ é‡åˆ°é—®é¢˜ï¼Ÿ

å¦‚æœåœ¨é…ç½®è¿‡ç¨‹ä¸­é‡åˆ°é—®é¢˜ï¼š

1. æ£€æŸ¥é…ç½®æ–‡ä»¶è¯­æ³•æ˜¯å¦æ­£ç¡®ï¼ˆYAML ç¼©è¿›ï¼‰
2. æ£€æŸ¥ AccessKey æ˜¯å¦æœ‰ OSS æƒé™
3. æ£€æŸ¥ Bucket æ˜¯å¦å­˜åœ¨ä¸”å¯è®¿é—®
4. æ£€æŸ¥æ•°æ®åº“è¿æ¥æ˜¯å¦æ­£å¸¸

---

**æœ€åæ›´æ–°**ï¼š2025-10-09  
**é‡è¦æ€§**ï¼šâ­â­â­â­â­ï¼ˆå¿…è¯»ï¼‰

